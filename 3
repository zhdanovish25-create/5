const int photoPin = A0;

void setup() {
  Serial.begin(9600);
  
  // Инициализация встроенного дисплея
  // Обычно для встроенных дисплеев есть готовая функция
  lcdInit(); // или displayInit() - уточните для вашей платы
  lcdClear();
  lcdSetCursor(0, 0);
  lcdPrint("Luxmeter Ready");
  delay(1000);
  lcdClear();
}

void loop() {
  int sensorValue = analogRead(photoPin);
  float voltage = sensorValue * (5.0 / 1023.0);
  float lux = sensorValue * 0.5; // Приблизительное значение в люксах
  
  // Вывод в Serial
  Serial.print("ADC: ");
  Serial.print(sensorValue);
  Serial.print(" | Voltage: ");
  Serial.print(voltage, 2);
  Serial.print("V | Lux: ");
  Serial.print(lux, 1);
  Serial.println(" lx");
  
  // Вывод на встроенный дисплей
  lcdSetCursor(0, 0);
  lcdPrint("ADC:");
  lcdPrint(String(sensorValue));
  lcdPrint("    ");
  
  lcdSetCursor(0, 1);
  lcdPrint("Lux:");
  lcdPrint(String(lux, 0));
  lcdPrint(" lx   ");
  
  delay(500);
}
