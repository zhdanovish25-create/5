// Настройки дисплея (предполагается использование I2C LCD 1602)
#include <LiquidCrystal_I2C.h>
LiquidCrystal_I2C lcd(0x27, 16, 2); // Адрес 0x27, 16 символов, 2 строки

// Пины для дисплея согласно схеме (pin8, pin7, pin6 - вероятно, это пины для кнопок или другого функционала)
const int buttonPins[] = {8, 7, 6};

// Фоторезистор подключен к A0
const int photoResistorPin = A0;

void setup() {
  // Инициализация Serial
  Serial.begin(9600);
  
  // Инициализация дисплея
  lcd.init();
  lcd.backlight();
  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Luxmeter");
  
  // Настройка пинов кнопок (если используются)
  for (int i = 0; i < 3; i++) {
    pinMode(buttonPins[i], INPUT_PULLUP);
  }
  
  Serial.println("Luxmeter started");
  Serial.println("ADC\tVoltage");
}

void loop() {
  // Чтение значения с фоторезистора
  int adcValue = analogRead(photoResistorPin);
  
  // Перевод в напряжение (0-5В)
  float voltage = adcValue * (5.0 / 1023.0);
  
  // Вывод в Serial
  Serial.print(adcValue);
  Serial.print("\t");
  Serial.print(voltage);
  Serial.println(" V");
  
  // Вывод на дисплей
  lcd.setCursor(0, 1);
  lcd.print("ADC:");
  lcd.print(adcValue);
  lcd.print("    "); // Очистка оставшихся символов
  
  // Обновление каждые 500 мс
  delay(500);
}
